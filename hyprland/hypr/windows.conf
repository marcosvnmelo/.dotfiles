$opacity = 0.8

# Ref https://wiki.hypr.land/Configuring/Workspace-Rules/
# "Smart gaps" / "No gaps when only"
# uncomment all if you wish to use that.
# workspace = w[tv1], gapsout:0, gapsin:0
workspace = f[1], gapsout:0, gapsin:0
# windowrule {
#     name = no-gaps-wtv1
#     match:float = false
#     match:workspace = w[tv1]
#
#     border_size = 0
#     rounding = 0
# }

windowrule {
    name = no-gaps-f1
    match:float = false
    match:workspace = f[1]

    border_size = 0
    rounding = 0
}

layerrule = blur on, match:namespace waybar

# layerrule = blur on, match:namespace swaync-notification-window
# layerrule = ignore_alpha 0, match:namespace swaync-notification-window
# layerrule = ignore_alpha 0.5, match:namespace swaync-notification-window
layerrule = dim_around on, match:namespace swaync-notification-window

# layerrule = blur on, match:namespace swaync-control-center
# layerrule = ignore_alpha 0, match:namespace swaync-control-center
# layerrule = ignore_alpha 0.5, match:namespace swaync-control-center
layerrule = dim_around on, match:namespace swaync-control-center

# layerrule = blur on, match:namespace rofi
# layerrule = ignore_alpha 0, match:namespace rofi
# layerrule = ignore_alpha 0.9, match:namespace rofi
layerrule = dim_around on, match:namespace rofi

# windowrule = move (((monitor_w)-(window_w)-10) ((monitor_h)-(window_h)-10), match:title Picture(\s|-)in(\s|-)(p|P)icture, #match:workspace m[0]
# windowrule = move 10 ((monitor_h)-(window_h)-10), match:title Picture(\s|-)in(\s|-)(p|P)icture, match:workspace m[1]
windowrule {
  name = float-picture-in-picture
  match:title = Picture(\s|-)in(\s|-)(p|P)icture
  # match:workspace = m[0]

  float = on
  move = ((monitor_w)-(window_w)-10) ((monitor_h)-(window_h)-10)
  size = 500 280
  no_initial_focus = on
}

windowrule {
  name = float-xdg-desktop-portal-gtk
  match:class = xdg-desktop-portal-gtk

  float = on
  center = on
  size = 870 600
}

windowrule {
  name = float-file-roller
  match:class = org.gnome.FileRoller
  match:title = Extract

  float = on
  center = on
  size = 870 600
}

windowrule {
  name = float-bluetooth-control
  match:class = blueman-manager

  float = on
  monitor = 0
  center = on
  opacity = $opacity
}

windowrule {
  name = float-volume-control
  match:class = org.pulseaudio.pavucontrol

  float = on
  monitor = 0
  center = on
  opacity = $opacity
}

windowrule {
  name = float-wifi-connection-editor
  match:class = nm-connection-editor

  float = on
  monitor = 0
  center = on
}

windowrule {
  name = android-emulator
  match:class = Emulator

  float = on
  border_size = 2
  no_blur = on
  no_shadow = on
  no_anim = on
  opaque = on
}
windowrule {
  name = android-emulator-rounding
  match:class = Emulator
  match:title = ^(.*)(Android Emulator)(.*)$

  rounding = 30%
}

# React native dev tools
windowrule = float on, match:initial_title ^.*(rn_fusebox.html)$
windowrule = center on, match:initial_title ^.*(rn_fusebox.html)$
windowrule = size 870 600, match:initial_title ^.*(rn_fusebox.html)$

windowrule {
  name = float-guitarix
  match:class = guitarix
  match:title = ^(Guitarix:).*$

  float = on
  center = on
  size = 1600 840
}

windowrule {
  name = float-fdm
  match:class = fdm

  float = on
  center = on
  size = 1010 645
}

# Special workspace apps
windowrule = workspace special:magic, match:class com.rtosta.zapzap
windowrule = workspace special:magic, match:class vesktop

# Opacity rules
windowrule = opacity $opacity, match:class org.gnome.Nautilus
windowrule = opacity $opacity, match:class org.wezfurlong.wezterm
windowrule = opacity $opacity, match:class com.mitchellh.ghostty
windowrule = opacity $opacity, match:class code
windowrule = opacity $opacity, match:class dev.zed.Zed


windowrule {
    # Ignore maximize requests from all apps. You'll probably like this.
    name = suppress-maximize-events
    match:class = .*

    suppress_event = maximize
}

windowrule {
    # Fix some dragging issues with XWayland
    name = fix-xwayland-drags
    match:class = ^$
    match:title = ^$
    match:xwayland = true
    match:float = true
    match:fullscreen = false
    match:pin = false

    no_focus = true
}

# Hyprland-run windowrule
windowrule {
    name = move-hyprland-run

    match:class = hyprland-run

    move = 20 monitor_h-120
    float = yes
}
